<!DOCTYPE html>
<html>
<head>
  <title>Survey Page</title>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <!-- Bootstrap theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
  <!-- jQuery CDN -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <!-- Latest compiled and minified JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  
</head>
<body>
  <div class="page-header">
    <h1>Friendship Forever!!!</h1>
  </div>

  <!-- Personal info -->
  <div class="col-lg-8">  
    <div class="input-group">
      <span class="input-group-addon"></span>
      <input id="name" type="text" class="form-control" placeholder="Your name">
    </div>
    &nbsp;

    <div class="input-group">
      <span class="input-group-addon"></span>
      <input id="photo" type="text" class="form-control" placeholder="Your photo URL">
    </div>
    &nbsp;
    &nbsp;
  </div>

  
    
  <!-- Survey questions -->
  <!-- Question 1 -->
  <div class="col-lg-12">
    <div class="well well-lg">
      <h4>1. Conan The Barbarian is a work of true genius.</h2>
      <select id="question1" required="required">
        <option value=""></option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>
    </div>
  </div>

  <!-- Question 1 -->
  <div class="col-lg-12">
    <div class="well well-lg">
      <h4>2. Conan The Barbarian is a work of true genius.</h2>
      <select id="question2" required="required">
        <option value=""></option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>
    </div>
  </div>

  <!-- Question 1 -->
  <div class="col-lg-12">
    <div class="well well-lg">
      <h4>3. Conan The Barbarian is a work of true genius.</h2>
      <select id="question3" required="required">
        <option value=""></option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>
    </div>
  </div>

  <!-- Question 1 -->
  <div class="col-lg-12">
    <div class="well well-lg">
      <h4>4. Conan The Barbarian is a work of true genius.</h2>
      <select id="question4" required="required">
        <option value=""></option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>
    </div>
  </div>

  <!-- Question 1 -->
  <div class="col-lg-12">
    <div class="well well-lg">
      <h4>5. Conan The Barbarian is a work of true genius.</h2>
      <select id="question5" required="required">
        <option value=""></option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>
    </div>
  </div>

  <!-- Question 1 -->
  <div class="col-lg-12">
    <div class="well well-lg">
      <h4>6. Conan The Barbarian is a work of true genius.</h2>
      <select id="question6" required="required">
        <option value=""></option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>
    </div>
  </div>

  <!-- Question 1 -->
  <div class="col-lg-12">
    <div class="well well-lg">
      <h4>7. Conan The Barbarian is a work of true genius.</h2>
      <select id="question7" required="required">
        <option value=""></option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>
    </div>
  </div>

  <!-- Question 1 -->
  <div class="col-lg-12">
    <div class="well well-lg">
      <h4>8. Conan The Barbarian is a work of true genius.</h2>
      <select id="question8" required="required">
        <option value=""></option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>
    </div>
  </div>

  <!-- Question 1 -->
  <div class="col-lg-12">
    <div class="well well-lg">
      <h4>9. Conan The Barbarian is a work of true genius.</h2>
      <select id="question9" required="required">
        <option value=""></option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>
    </div>
  </div>

  <!-- Question 1 -->
  <div class="col-lg-12">
    <div class="well well-lg">
      <h4>10. Conan The Barbarian is a work of true genius.</h2>
      <select id="question10" required="required">
        <option value=""></option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>
    </div>
  </div>

  <div class="col-lg-12">
    <button type="submit" id="submit" class="btn btn-default">Submit</button>
  </div>

  <div class="col-lg-12">
        &nbsp;
        &nbsp;
    <footer>
      <p>
        <a href="/api/friends">API, </a>
        <a href="https://github.com/mdk82/FriendFinder">GitHub</a>
      </p>
    </footer>
  </div>

  	<!-- Modal -->
	<div id="myModal" class="modal fade">
	  <div class="modal-dialog" role="document">

	    <!-- Modal content-->
	    <div class="modal-content">
	      <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <h2 class="modal-title"><strong>Best Match</strong></h2>
	      </div>
	      <div class="modal-body">
	        <h2 id="friendName"></h2>
	        <img id="friendImg" src="" alt="">
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	      </div>
	    </div>
	  </div>
	</div>

  <script type="text/javascript">

      $("#submit").on("click", function (event) {
          event.preventDefault()

          let userInput = {
              name: $("#name").val().trim(),
              photo: $("#photo").val().trim(),
              scores: [
                  $("#question1").val().trim(),
                  $("#question2").val().trim(),
                  $("#question3").val().trim(),
                  $("#question4").val().trim(),
                  $("#question5").val().trim(),
                  $("#question6").val().trim(),
                  $("#question7").val().trim(),
                  $("#question8").val().trim(),
                  $("#question9").val().trim(),
                  $("#question10").val().trim() 
              ]
          }

          $.post('/api/friends', userInput).done(function(data) {
              $('#friendName').text(data.friendName)
              $('#friendImg').attr("src", data.friendImage)
              $('#myModal').modal('show')
          })
      })
  </script>

</body>
</html>